<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Lesson12 位运算专题 - Algo Curriculum</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Algo Curriculum</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson1</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson1/Lesson1%20C%2B%2B/" class="dropdown-item">Lesson 1 C++的环境设置、数据类型、运算符和输入和输出</a>
</li>
                                    
<li>
    <a href="../../lesson1/Lesson1%20Java/" class="dropdown-item">Lesson 1 Java的环境设置、数据类型、运算符和输入和输出</a>
</li>
                                    
<li>
    <a href="../../lesson1/Lesson1%20Python/" class="dropdown-item">Lesson 1 Python的环境设置、数据类型、运算符和输入和输出</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson10</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson10/Lesson10%20C%2B%2B/" class="dropdown-item">Lesson 10: 集合专题</a>
</li>
                                    
<li>
    <a href="../../lesson10/Lesson10%20Java/" class="dropdown-item">Lesson10 集合专题</a>
</li>
                                    
<li>
    <a href="../../lesson10/Lesson10%20Python/" class="dropdown-item">Lesson10 集合专题</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson11</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson11/Lesson11%20C%2B%2B/" class="dropdown-item">Lesson 11: unordered_map 专题</a>
</li>
                                    
<li>
    <a href="../../lesson11/Lesson11%20Java/" class="dropdown-item">Lesson11 字典(HashMap)专题</a>
</li>
                                    
<li>
    <a href="../../lesson11/Lesson11%20Python/" class="dropdown-item">Lesson11 字典专题</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson12</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Lesson12 位运算专题</a>
</li>
                                    
<li>
    <a href="../Lesson12%20Java/" class="dropdown-item">Lesson12 位运算专题</a>
</li>
                                    
<li>
    <a href="../Lesson12%20Python/" class="dropdown-item">位运算专题</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson13</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson13/Lesson13%20C%2B%2B/" class="dropdown-item">Lesson 13. 时间复杂度，排序和贪心算法</a>
</li>
                                    
<li>
    <a href="../../lesson13/Lesson13%20Java/" class="dropdown-item">Lesson 13. 时间复杂度，排序和贪心算法</a>
</li>
                                    
<li>
    <a href="../../lesson13/Lesson13%20Python/" class="dropdown-item">Lesson 13. 时间复杂度与滚动求最值</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson2</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson2/Lesson2%20C%2B%2B/" class="dropdown-item">Lesson2 C++的条件语句与循环语句</a>
</li>
                                    
<li>
    <a href="../../lesson2/Lesson2%20Java/" class="dropdown-item">Lesson2 Java的条件语句与循环语句</a>
</li>
                                    
<li>
    <a href="../../lesson2/Lesson2%20Python/" class="dropdown-item">Lesson2 条件和循环</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson3</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson3/Lesson3%20C%2B%2B/" class="dropdown-item">Lesson 3 C++ 的自定义函数与参数</a>
</li>
                                    
<li>
    <a href="../../lesson3/Lesson3%20Java/" class="dropdown-item">Lesson3 Java的自定义函数与参数</a>
</li>
                                    
<li>
    <a href="../../lesson3/Lesson3%20Python/" class="dropdown-item">Lesson3 自定义函数，形式参数与实际参数</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson4</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson4/Lesson4%20C%2B%2B/" class="dropdown-item">Lesson 4 字符串基础</a>
</li>
                                    
<li>
    <a href="../../lesson4/Lesson4%20Java/" class="dropdown-item">Lesson 4 字符串基础</a>
</li>
                                    
<li>
    <a href="../../lesson4/Lesson4%20Python/" class="dropdown-item">Lesson 4 字符串基础</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson5</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson5/Lesson5%20C%2B%2B/" class="dropdown-item">Lesson5 数组/列表与初级搜索</a>
</li>
                                    
<li>
    <a href="../../lesson5/Lesson5%20Java/" class="dropdown-item">Lesson5 数组/列表与初级搜索</a>
</li>
                                    
<li>
    <a href="../../lesson5/Lesson5%20Python/" class="dropdown-item">Lesson 5 列表与初级搜索</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson6</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson6/Lesson6%20C%2B%2B/" class="dropdown-item">Lesson6 Leetcode入门/常用的字符串函数/Leetcode字符串练习</a>
</li>
                                    
<li>
    <a href="../../lesson6/Lesson6%20Java/" class="dropdown-item">Lesson6 Leetcode入门/常用的字符串函数/Leetcode字符串练习</a>
</li>
                                    
<li>
    <a href="../../lesson6/Lesson6%20Python/" class="dropdown-item">Lesson6 Leetcode入门/常用的字符串函数/Leetcode字符串练习</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson7</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson7/Lesson7%20C%2B%2B/" class="dropdown-item">Lesson 7. Ascii 转换与进制转换</a>
</li>
                                    
<li>
    <a href="../../lesson7/Lesson7%20Java/" class="dropdown-item">Lesson7 ASCII 转换与进制转换</a>
</li>
                                    
<li>
    <a href="../../lesson7/Lesson7%20Python/" class="dropdown-item">Lesson 7 Ascii 转换与进制转换</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson8</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson8/Lesson8%20C%2B%2B/" class="dropdown-item">Lesson8 字符串循环+切片/字符串数学运算专题</a>
</li>
                                    
<li>
    <a href="../../lesson8/Lesson8%20Java/" class="dropdown-item">Lesson8 字符串循环+切片/字符串数学运算专题</a>
</li>
                                    
<li>
    <a href="../../lesson8/Lesson8%20Python/" class="dropdown-item">Lesson8 字符串循环+切片/字符串数学运算专题</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Lesson9</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lesson9/Lesson9%20C%2B%2B/" class="dropdown-item">Lesson9 字符串双指针算法专题</a>
</li>
                                    
<li>
    <a href="../../lesson9/Lesson9%20Java/" class="dropdown-item">Lesson9 字符串双指针算法专题</a>
</li>
                                    
<li>
    <a href="../../lesson9/Lesson9%20Python/" class="dropdown-item">Lesson9 字符串双指针算法专题</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../lesson11/Lesson11%20Python/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Lesson12%20Java/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/Crisforlove/Algo.git/edit/master/docs/lesson12/Lesson12 C++.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#lesson12" class="nav-link">Lesson12 位运算专题</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">目录</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#1" class="nav-link">1. 位运算</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#11" class="nav-link">1.1 基本概念</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#12" class="nav-link">1.2 常用位运算操作</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#13" class="nav-link">1.3 应用实例</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#2_3" class="nav-link">2. 例题讲解</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3_1" class="nav-link">3. 举一反三</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#4_1" class="nav-link">4. 课后练习</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="lesson12">Lesson12 位运算专题</h1>
<h2 id="_1">目录</h2>
<ul>
<li><a href="#1-位运算">1. 位运算</a></li>
<li><a href="#11-基本概念">1.1 基本概念</a></li>
<li><a href="#12-常用位运算操作">1.2 常用位运算操作</a></li>
<li><a href="#13-应用实例">1.3 应用实例</a> </li>
<li><a href="#2-例题讲解">2. 例题讲解</a></li>
<li><a href="#21-lc231-2的幂">2.1 LC231 2的幂</a></li>
<li><a href="#22-lc268-丢失的数字">2.2 LC268 丢失的数字</a></li>
<li><a href="#3-举一反三">3. 举一反三</a></li>
<li><a href="#31-lc2309-兼具大小写的最好英文字母">3.1 LC2309 兼具大小写的最好英文字母</a></li>
<li><a href="#32-lc136-只出现一次的数字">3.2 LC136 只出现一次的数字</a></li>
<li><a href="#33-lc389-找不同">3.2 LC389 找不同</a></li>
<li><a href="#4-课后练习">4. 课后练习</a></li>
</ul>
<h2 id="1">1. 位运算</h2>
<h4 id="_2">位运算简介</h4>
<p>位运算是计算机科学中的一种基础运算方式，它直接操作二进制数的位。位运算在处理整数、优化算法、数据压缩等领域具有重要应用。以下是位运算的基本概念、常用操作及应用实例。</p>
<h2 id="11">1.1 基本概念</h2>
<p>在计算机中，整数通常以二进制形式存储。位运算就是通过对这些二进制位进行操作来实现特定的计算。位运算的操作符直接对二进制位进行处理，因此速度非常快，适用于需要高效计算的场合。</p>
<h2 id="12">1.2 常用位运算操作</h2>
<h3 id="and">按位与（AND）<code>&amp;</code></h3>
<p>对两个整数的每一位执行逻辑与运算。只有当两个相应的位都是1时，结果位才为1，否则为0。</p>
<p><strong>示例</strong>：</p>
<pre><code>5 &amp; 3 = 1
5:  0101
3:  0011
--------------
    0001  (结果为1)
</code></pre>
<h3 id="or">按位或（OR）<code>|</code></h3>
<p>对两个整数的每一位执行逻辑或运算。只要其中一个相应的位是1，结果位就为1。</p>
<p><strong>示例</strong>：</p>
<pre><code>5 | 3 = 7
5:  0101
3:  0011
--------------
    0111  (结果为7)
</code></pre>
<h3 id="xor">按位异或（XOR）<code>^</code></h3>
<p>对两个整数的每一位执行逻辑异或运算。当两个相应的位不同时，结果位为1；相同时为0。</p>
<p><strong>示例</strong>：</p>
<pre><code>5 ^ 3 = 6
5:  0101
3:  0011
--------------
    0110  (结果为6)
</code></pre>
<p><strong>异或运算的性质</strong>：
   - 1. 任何数和 0 进行异或运算，结果为该数本身：<code>a ⊕ 0 = a</code>。
   - 2. 任何数和自己进行异或运算，结果为 0：<code>a ⊕ a = 0</code>。
   - 3. 异或运算满足交换律和结合律：<code>a ⊕ b ⊕ a = (a ⊕ a) ⊕ b = 0 ⊕ b = b</code>。</p>
<h3 id="not">按位取反（NOT）<code>~</code></h3>
<p>对每一位进行取反操作。0变为1，1变为0。</p>
<p><strong>示例</strong>：</p>
<pre><code>~5 = -6
5:  0101
--------------
    1010  (取反后为-6，使用补码表示法)
</code></pre>
<h3 id="_3">左移（&lt;&lt;）</h3>
<p>将二进制数的所有位向左移动指定的位数。左移n位相当于乘以 <code>2^n</code>。</p>
<p><strong>示例</strong>：</p>
<pre><code>5 &lt;&lt; 1 = 10
5:  0101
--------------
    1010  (结果为10)
</code></pre>
<h3 id="_4">右移（&gt;&gt;）</h3>
<p>将二进制数的所有位向右移动指定的位数。右移n位相当于整除 (2^n)。</p>
<p><strong>示例</strong>：</p>
<pre><code>5 &gt;&gt; 1 = 2
5:  0101
--------------
    0010  (结果为2)
</code></pre>
<h2 id="13">1.3 应用实例</h2>
<h3 id="_5">常见的位运算技巧</h3>
<p>位运算可以高效地处理许多问题，特别是在需要操作二进制数字时。以下是一些常用的位运算技巧及其应用：</p>
<h3 id="1_1">类型 1 ：用于判断</h3>
<h4 id="1_2">1. <strong>判断奇偶性</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>n &amp; 1</code></li>
<li><strong>原理</strong>：如果 <code>n</code> 是奇数，那么 <code>n</code> 的二进制表示的最低位是 1；如果是偶数，则最低位是 0。因此，<code>n &amp; 1</code> 可以直接判断奇偶性。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  bool isOdd = (n &amp; 1) == 1;</code></li>
</ul>
<h4 id="2-1-2">2. <strong>清除最低位的 1</strong> （判断是否是 2 的幂次方）</h4>
<ul>
<li><strong>技巧</strong>：<code>n &amp; (n - 1)</code></li>
<li><strong>原理</strong>：将 <code>n</code> 的二进制表示中的最低位的 1 清除。适用于判断是否为 2 的幂次方，以及统计二进制数中 1 的个数。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  n = n &amp; (n - 1);  // 清除最低位的 1</code></li>
<li><strong>特性</strong>：如果 <code>n</code> 是正整数且满足 <code>n &amp; (n - 1) == 0</code>，这意味着 <code>n</code> 是 2 的幂。</li>
</ul>
<h4 id="_6">解释：</h4>
<h4 id="2"><strong>二进制表示中的 2 的幂</strong></h4>
<ul>
<li>当一个数是 2 的幂时，它的二进制表示中<strong>只有一个位是 1</strong>，其余所有位都是 0。<ul>
<li>比如：<ul>
<li>2<sup>0</sup> = 1 -&gt; <code>0001</code> (二进制)</li>
<li>2<sup>1</sup> = 2 -&gt; <code>0010</code></li>
<li>2<sup>2</sup> = 4 -&gt; <code>0100</code></li>
<li>2<sup>3</sup> = 8 -&gt; <code>1000</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>这意味着<strong>2 的幂总是形如 <code>100...0</code> 的形式</strong>，即一个 <code>1</code> 后面跟着若干个 <code>0</code>。</p>
<h4 id="n-1"><strong><code>n - 1</code> 的二进制特性</strong></h4>
<ul>
<li>当我们从一个 2 的幂减去 1 时，结果会将原来唯一的 <code>1</code> 变成 <code>0</code>，并将其后面的 <code>0</code> 变成 <code>1</code>。<ul>
<li>举个例子：<ul>
<li>n = 8 = 1000</li>
<li>n - 1 = 7 = 0111</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>可以看到，<code>n</code> 和 <code>n - 1</code> 在二进制表示上是完全互补的，<code>n</code> 只有一个 <code>1</code> 后面全是 <code>0</code>，而 <code>n - 1</code> 则是原来 <code>1</code> 变成 <code>0</code>，后面的 <code>0</code> 全部变成 <code>1</code>。</p>
<h4 id="n-n-1"><strong>按位与运算 (<code>n &amp; (n - 1)</code>)</strong></h4>
<ul>
<li><strong>按位与运算</strong>会将两个数的二进制表示逐位进行比较，只有在相同位上两个数字都是 <code>1</code> 时结果才为 <code>1</code>，其他情况为 <code>0</code>。</li>
<li>对于 2 的幂 <code>n</code>，其二进制表示中只有一位是 <code>1</code>，而 <code>n - 1</code> 的二进制表示在相同位置是 <code>0</code>，其它位则是 <code>1</code>。这样一来，<code>n &amp; (n - 1)</code> 的结果会是 <code>0</code>，因为在二进制中没有相同位置的 <code>1</code> 了。</li>
</ul>
<p>举个例子：
-  n = 8 = 1000
-  n - 1 = 7 = 0111
-  8 &amp; 7 = 1000 &amp; 0111 = 0000</p>
<h4 id="n-n-1-2"><strong>为什么 <code>n &amp; (n - 1)</code> 可以判断 2 的幂？</strong></h4>
<ul>
<li>如果 n 是 2 的幂，它的二进制表示中只有一个 <code>1</code>，且 n - 1 会使这个 <code>1</code> 的位置变为 <code>0</code>，后面的 <code>0</code> 变为 <code>1</code>。这样 <code>n &amp; (n - 1)</code> 的结果一定是 <code>0</code>。</li>
<li>如果 n 不是 2 的幂，它的二进制表示中至少有两个 <code>1</code>，那么 n - 1 并不能将所有的 <code>1</code> 都抵消掉，<code>n &amp; (n - 1)</code> 的结果就不会是 <code>0</code>。</li>
</ul>
<h4 id="3-1-2">3. <strong>获取最低位的 1</strong>（判断是否是 2 的幂次方）</h4>
<p><code>n &amp; -n</code> 这个技巧可以高效地提取出一个整数二进制表示中最低位的 1。同样，它可以用于判断一个数是否是 2 的幂。让我们通过详细解释来理解其原理：</p>
<h4 id="_7"><strong>负数的二进制表示</strong></h4>
<ul>
<li>在计算机中，负数是按照 <strong>补码</strong> 规则存储的。具体来说，负数的二进制表示是正数的每一位取反后加 1。<ul>
<li>比如：<ul>
<li>n = 12 = 1100<sub>2</sub></li>
<li>-n = -12 ，首先取反  1100<sub>2</sub> -&gt;  0011<sub>2</sub> ，然后加 1，得到  0100<sub>2</sub></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="n-n"><strong><code>n &amp; -n</code> 的运算原理</strong></h4>
<ul>
<li>当我们执行 <code>n &amp; -n</code> 时，计算结果会保留二进制表示中<strong>最低位的 1</strong>，而其余位都会变为 0。这是因为：<ul>
<li>对于  n ，其最低位的 1 之后的所有位都是 0。</li>
<li>对于  -n ，最低位的 1 以及之后的所有位都会取反，最低位的 1 依然存在，而更高位则变为 0。</li>
<li>将  n  和  -n  进行按位与运算时，高位都会变成 0，只有最低位的 1 保留下来，其他位变为 0。</li>
</ul>
</li>
</ul>
<h4 id="_8">举个例子：</h4>
<ul>
<li>n = 12 = 1100<sub>2</sub></li>
<li>-n = -12 = 0100<sub>2</sub></li>
<li>12 &amp; (-12) = 1100<sub>2</sub> &amp; 0100<sub>2</sub> = 0100<sub>2</sub></li>
</ul>
<p>结果是二进制数中最低位的 1。</p>
<h4 id="n-n-2"><strong><code>n &amp; -n</code> 判断是否为 2 的幂</strong></h4>
<ul>
<li>如果 <code>n</code> 是 2 的幂，它的二进制表示只有一个 1，后面跟着若干个 0，比如 n = 8 = 1000<sub>2</sub> 。</li>
<li>对于这样的数，<code>n &amp; -n</code> 的结果必然等于 <code>n</code>，因为二进制中只有一个 1，按位与之后的结果也只会是该位的 1，其他位为 0。</li>
<li>因此，如果 <code>n &amp; -n == n</code>，可以确定 <code>n</code> 是 2 的幂。</li>
</ul>
<h4 id="_9">举个例子：</h4>
<ul>
<li>n = 8 = 1000<sub>2</sub></li>
<li>-n = -8 = 1000<sub>2</sub> （因为最高位 1 之后没有 0，所以没有变化）</li>
<li>8 &amp; -8 = 1000<sub>2</sub></li>
</ul>
<p>此时 <code>n &amp; -n == n</code>，所以 8 是 2 的幂。</p>
<h4 id="4">4. <strong>判断两个数的符号是否相同</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>(a ^ b) &gt;= 0</code></li>
<li><strong>原理</strong>：如果 <code>a</code> 和 <code>b</code> 的符号相同，那么它们的符号位相同，异或结果的符号位为 0，因此 <code>(a ^ b) &gt;= 0</code> 为真；否则为假。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  bool sameSign = (a ^ b) &gt;= 0;</code></li>
</ul>
<h4 id="_10">原理解析</h4>
<p>首先，我们需要了解整数在计算机中的二进制表示：
- <strong>符号位</strong>：整数的二进制表示中，最高位（最左边的一位）是<strong>符号位</strong>。当符号位为 <code>0</code> 时，表示正数；当符号位为 <code>1</code> 时，表示负数。
    - 例如，对于 32 位整数：
        - 正数 <code>5</code> 的二进制表示为 <code>00000000 00000000 00000000 00000101</code>
        - 负数 <code>-5</code> 的二进制表示为 <code>11111111 11111111 11111111 11111011</code></p>
<h4 id="_11"><strong>通过异或判断符号</strong></h4>
<p>我们可以利用异或运算来判断两个数的符号是否相同。关键点在于异或运算的结果的<strong>符号位</strong>。</p>
<ul>
<li>
<p><strong>符号位分析</strong>：</p>
<ul>
<li>如果 <code>a</code> 和 <code>b</code> 的符号相同，二者的符号位也会相同，异或后的结果在符号位会是 <code>0</code>，即结果是<strong>非负数</strong>。</li>
<li>如果 <code>a</code> 和 <code>b</code> 的符号不同，二者的符号位会不同，异或后的结果在符号位会是 <code>1</code>，即结果是<strong>负数</strong>。</li>
</ul>
</li>
<li>
<p><strong>相同符号</strong>：</p>
<ul>
<li>假设 <code>a = 5</code> 和 <code>b = 10</code>，它们的二进制表示如下：<ul>
<li><code>a = 5</code> : <code>00000000 00000000 00000000 00000101</code></li>
<li><code>b = 10</code>: <code>00000000 00000000 00000000 00001010</code></li>
</ul>
</li>
<li>它们的符号位都是 <code>0</code>，表示它们都是正数。</li>
<li>
<p>进行异或运算：
  <code>a ^ b =     00000000 00000000 00000000 00000101
            ^  00000000 00000000 00000000 00001010
              -------------------------------------
               00000000 00000000 00000000 00001111</code></p>
</li>
<li>
<p>结果的符号位仍然是 <code>0</code>，说明结果是非负数，因此 <code>(a ^ b) &gt;= 0</code> 为真，表明它们的符号相同。</p>
</li>
</ul>
</li>
<li>
<p><strong>不同符号</strong>：</p>
<ul>
<li>假设 <code>a = 5</code> 和 <code>b = -10</code>，它们的二进制表示如下：<ul>
<li><code>a = 5</code> : <code>00000000 00000000 00000000 00000101</code></li>
<li><code>b = -10</code>: <code>11111111 11111111 11111111 11110110</code> （负数在计算机中使用补码表示）</li>
</ul>
</li>
<li>进行异或运算：
  <code>a ^ b =     00000000 00000000 00000000 00000101
            ^ 11111111 11111111 11111111 11110110
              -------------------------------------
              11111111 11111111 11111111 11110011</code></li>
<li>结果的符号位是 <code>1</code>，说明结果是负数，因此 <code>(a ^ b) &lt; 0</code> 为真，表明它们的符号不同。</li>
</ul>
</li>
</ul>
<h4 id="_12"><strong>总结</strong></h4>
<ul>
<li><strong>如果 <code>a</code> 和 <code>b</code> 符号相同</strong>，则 <code>(a ^ b)</code> 的符号位为 <code>0</code>，异或结果为非负数，故 <code>(a ^ b) &gt;= 0</code> 为真。</li>
<li><strong>如果 <code>a</code> 和 <code>b</code> 符号不同</strong>，则 <code>(a ^ b)</code> 的符号位为 <code>1</code>，异或结果为负数，故 <code>(a ^ b) &gt;= 0</code> 为假。</li>
</ul>
<p>通过这一技巧，我们可以高效地判断两个整数的符号是否相同，避免了传统方法中的分支判断逻辑（如 <code>if-else</code>）。</p>
<h3 id="2_1">类型 2 异或运算技巧</h3>
<h4 id="5">5. <strong>交换两个数</strong></h4>
<ul>
<li><strong>技巧</strong>：使用以下三步来交换 <code>a</code> 和 <code>b</code> 的值：
  <code>cpp
  a = a ^ b;
  b = a ^ b;
  a = a ^ b;</code></li>
</ul>
<h4 id="_13">异或运算的原理</h4>
<p>关键的异或运算性质：
1. <strong><code>a ^ a = 0</code></strong>：一个数与自身进行异或运算，结果是 0。
2. <strong><code>a ^ 0 = a</code></strong>：一个数与 0 进行异或运算，结果还是该数本身。
3. <strong>交换律</strong>：<code>a ^ b = b ^ a</code>，即异或运算是可交换的。
4. <strong>结合律</strong>：<code>a ^ (b ^ c) = (a ^ b) ^ c</code>，即异或运算是可结合的。</p>
<p>基于这些性质，可以通过连续三次异或运算来完成两个变量的交换。</p>
<h4 id="_14">详细步骤</h4>
<p>假设两个数为 <code>a = 5</code> 和 <code>b = 3</code>，我们来逐步分析通过异或操作交换它们的值。</p>
<ol>
<li>
<p><strong>第一步</strong>：<code>a = a ^ b</code></p>
<ul>
<li>对 <code>a</code> 进行赋值操作：<code>a = 5 ^ 3</code></li>
<li><code>5</code> 的二进制表示为 <code>101</code>，<code>3</code> 的二进制表示为 <code>011</code>。</li>
<li><code>a = 101 ^ 011 = 110</code>，即 <code>a = 6</code>（此时 <code>a</code> 的值为 <code>6</code>，<code>b</code> 仍然是 <code>3</code>）。</li>
</ul>
</li>
<li>
<p><strong>第二步</strong>：<code>b = a ^ b</code></p>
<ul>
<li>对 <code>b</code> 进行赋值操作：<code>b = a ^ b = 6 ^ 3</code></li>
<li><code>6</code> 的二进制表示为 <code>110</code>，<code>3</code> 的二进制表示为 <code>011</code>。</li>
<li><code>b = 110 ^ 011 = 101</code>，即 <code>b = 5</code>（此时 <code>b</code> 的值变成了 <code>5</code>，<code>a</code> 仍然是 <code>6</code>）。</li>
</ul>
</li>
<li>
<p><strong>第三步</strong>：<code>a = a ^ b</code></p>
<ul>
<li>对 <code>a</code> 进行赋值操作：<code>a = a ^ b = 6 ^ 5</code></li>
<li><code>6</code> 的二进制表示为 <code>110</code>，<code>5</code> 的二进制表示为 <code>101</code>。</li>
<li><code>a = 110 ^ 101 = 011</code>，即 <code>a = 3</code>（此时 <code>a</code> 的值变成了 <code>3</code>，而 <code>b</code> 的值是 <code>5</code>）。</li>
</ul>
</li>
</ol>
<h4 id="_15">最终结果</h4>
<p>通过这三次异或操作，<code>a</code> 的初始值 <code>5</code> 被赋给了 <code>b</code>，而 <code>b</code> 的初始值 <code>3</code> 被赋给了 <code>a</code>。因此，两个数在没有使用临时变量的情况下完成了交换。</p>
<h4 id="_16">代码示例</h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main() {
    int a = 5;
    int b = 3;

    cout &lt;&lt; &quot;Before swap: a = &quot; &lt;&lt; a &lt;&lt; &quot;, b = &quot; &lt;&lt; b &lt;&lt; endl;

    // 通过异或操作交换 a 和 b 的值
    a = a ^ b; // a 变为 a ^ b
    b = a ^ b; // b 变为 a
    a = a ^ b; // a 变为 b

    cout &lt;&lt; &quot;After swap: a = &quot; &lt;&lt; a &lt;&lt; &quot;, b = &quot; &lt;&lt; b &lt;&lt; endl;

    return 0;
}
</code></pre>
<h4 id="_17">输出结果：</h4>
<pre><code>Before swap: a = 5, b = 3
After swap: a = 3, b = 5
</code></pre>
<h3 id="3">类型 3：快速运算</h3>
<h4 id="6-k-1">6. <strong>将整数的第 k 位设为 1</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>n | (1 &lt;&lt; k)</code></li>
<li><strong>原理</strong>：通过左移运算将 1 移动到第 <code>k</code> 位，然后与 <code>n</code> 进行按位或运算，将第 <code>k</code> 位设为 1。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  n = n | (1 &lt;&lt; k);</code></li>
</ul>
<h4 id="7-k-0">7. <strong>将整数的第 k 位设为 0</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>n &amp; ~(1 &lt;&lt; k)</code></li>
<li><strong>原理</strong>：先通过左移运算将 1 移动到第 <code>k</code> 位，然后对其取反，将其余位设为 1，<code>k</code> 位设为 0，再与 <code>n</code> 进行按位与运算，清除第 <code>k</code> 位的值。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  n = n &amp; ~(1 &lt;&lt; k);</code></li>
</ul>
<h4 id="8-k">8. <strong>获取整数的第 k 位值</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>(n &gt;&gt; k) &amp; 1</code></li>
<li><strong>原理</strong>：通过右移运算将第 <code>k</code> 位移到最低位，然后与 1 进行按位与运算，判断该位是 0 还是 1。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  int bit = (n &gt;&gt; k) &amp; 1;</code></li>
</ul>
<h4 id="9-1">9. <strong>统计整数的二进制中 1 的个数</strong></h4>
<ul>
<li><strong>技巧</strong>：使用 <code>n &amp; (n - 1)</code> 不断清除最低位的 1</li>
<li><strong>原理</strong>：每次执行 <code>n &amp; (n - 1)</code> 都会减少一个 1，直到 <code>n</code> 变为 0。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  int count = 0;
  while (n &gt; 0) {
      n = n &amp; (n - 1);
      count++;
  }</code></li>
</ul>
<h4 id="_18">与传统方式的比较</h4>
<h4 id="2_2"><strong>传统方法：整除 2</strong></h4>
<ul>
<li>
<p>传统的方法是通过不断将 <code>n</code> 除以 2 来判断 <code>n</code> 的二进制表示中的 1 的个数。每次除以 2 可以获取当前最右边的一位，通过判断这位是否是 1 来增加计数。</p>
</li>
<li>
<p><strong>示例代码</strong>：
  <code>cpp
  int count = 0;
  while (n &gt; 0) {
      if (n % 2 == 1) {
          count++;
      }
      n = n / 2;
  }</code></p>
</li>
<li><strong>缺点</strong>：该方法需要遍历二进制表示的每一位，也就是需要循环的次数与 <code>n</code> 的比特数成正比。因此，如果 <code>n</code> 的二进制表示中有很多 0，这种方法效率较低。对于一个 32 位的整数，最多需要执行 32 次操作。</li>
</ul>
<h4 id="n-n-1_1"><strong>使用 <code>n &amp; (n - 1)</code> 的方法</strong></h4>
<ul>
<li>
<p>通过 <code>n &amp; (n - 1)</code>，每次运算直接将 <code>n</code> 的二进制表示中<strong>最低位的 1</strong> 清除。因此，执行的次数等于 <code>n</code> 中 1 的个数，而不是比特数。</p>
</li>
<li>
<p><strong>原理</strong>：</p>
<ul>
<li><code>n &amp; (n - 1)</code> 的作用是将 <code>n</code> 的二进制表示中最低位的 1 变为 0。</li>
<li>每次执行一次 <code>n &amp; (n - 1)</code>，我们就移除了一个 1，直到所有的 1 都被移除，<code>n</code> 变为 0 为止。</li>
</ul>
</li>
</ul>
<h4 id="10-2">10. <strong>快速计算 2 的幂</strong></h4>
<ul>
<li><strong>技巧</strong>：<code>1 &lt;&lt; k</code></li>
<li><strong>原理</strong>：左移运算相当于将 1 向左移动 <code>k</code> 位，这样可以快速得到 <code>2^k</code> 的结果。</li>
<li><strong>代码示例</strong>：
  <code>cpp
  int powerOfTwo = 1 &lt;&lt; k;  // 等同于 2^k</code></li>
</ul>
<h2 id="2_3">2. 例题讲解</h2>
<h3 id="21-lc231-2">2.1 LC231 2的幂</h3>
<h4 id="_19">问题描述</h4>
<p>给你一个整数 <code>n</code>，请你判断该整数是否是 2 的幂次方。如果是，返回 <code>true</code>；否则，返回 <code>false</code>。</p>
<p>如果存在一个整数 <code>x</code> 使得 <code>n == 2^x</code>，则认为 <code>n</code> 是 2 的幂次方。</p>
<h4 id="_20">方法：位运算</h4>
<p>一个数 <code>n</code> 是 2 的幂，当且仅当 <code>n</code> 是正整数，并且 <code>n</code> 的二进制表示中仅包含 1 个 1。</p>
<p>因此，我们可以考虑使用位运算技巧来判断。</p>
<h4 id="_21">位运算技巧</h4>
<ol>
<li>使用 <code>n &amp; (n - 1)</code> 判断</li>
</ol>
<pre><code class="language-cpp">class Solution {
public:
    bool isPowerOfTwo(int n) {
        return n &gt; 0 &amp;&amp; (n &amp; (n - 1)) == 0;
    }
};
</code></pre>
<ol>
<li>使用 <code>n &amp; (-n)</code> 判断</li>
</ol>
<pre><code class="language-cpp">class Solution {
public:
    bool isPowerOfTwo(int n) {
        return n &gt; 0 &amp;&amp; (n &amp; -n) == n;
    }
};
</code></pre>
<h3 id="22-lc268">2.2 LC268 丢失的数字</h3>
<h4 id="_22">问题描述</h4>
<p>给定一个包含 [0, n] 中 n 个数的数组 nums，找出 [0, n] 这个范围内没有出现在数组中的那个数。</p>
<h4 id="_23">思路讲解</h4>
<h3 id="unordered_set">方法一：使用 <code>unordered_set</code></h3>
<h4 id="_24">解题思路：</h4>
<ol>
<li><strong>构建一个 <code>unordered_set</code></strong>：将数组中的所有数字存入 <code>unordered_set</code> 中。</li>
<li><strong>遍历查找缺失的数字</strong>：遍历 <code>[0, n]</code>，检查哪个数字不在 <code>unordered_set</code> 中。</li>
<li><strong>返回结果</strong>：一旦发现某个数字不在 <code>unordered_set</code> 中，即可返回该数字作为缺失的数字。</li>
</ol>
<pre><code class="language-cpp">class Solution {
public:
    int missingNumber(vector&lt;int&gt;&amp; nums) {
        // 创建一个 unordered_set 存储数组中的数
        unordered_set&lt;int&gt; numSet;

        // 将数组中的所有数加入到集合中
        for (int num : nums) {
            numSet.insert(num);
        }

        // 遍历 [0, n]，找出没有出现在集合中的数
        for (int i = 0; i &lt;= nums.size(); i++) {
            if (numSet.find(i) == numSet.end()) {
                return i;  // 找到缺失的数字
            }
        }

        return -1;  // 如果没有找到缺失的数字，返回 -1（实际不会发生）
    }
};
</code></pre>
<h3 id="_25">方法二：使用位运算（异或）</h3>
<h4 id="_26">解题思路</h4>
<p>这道题的核心思路是基于<strong>异或运算</strong>的性质来找到丢失的数字。温习异或运算的以下几个关键性质：</p>
<ol>
<li><strong>交换律和结合律</strong>：<code>a ^ b ^ c</code> 和 <code>a ^ c ^ b</code> 的结果相同，即顺序无关。</li>
<li><strong>相同数字异或为 0</strong>：<code>a ^ a = 0</code>，即两个相同的数字异或会互相抵消为 0。</li>
<li><strong>任何数字与 0 异或等于自身</strong>：<code>a ^ 0 = a</code>。</li>
</ol>
<h4 id="_27">具体步骤：</h4>
<ol>
<li>
<p><strong>初始化变量</strong>：</p>
<ul>
<li><code>missing</code> 变量初始值为 0，用于存储异或结果。</li>
<li><code>n = nums.length</code>，表示数组的长度。</li>
</ul>
</li>
<li>
<p><strong>第一轮循环 (异或数组中的元素)</strong>：</p>
<ul>
<li>在 <code>for</code> 循环中，<code>missing</code> 会依次与数组中的每个元素进行异或运算。</li>
<li>假设 <code>nums = [3, 0, 1]</code>，这时 <code>missing</code> 将依次变为 <code>missing = 0 ^ 3 ^ 0 ^ 1</code>。</li>
<li>这一步骤的目的是通过异或将 <code>nums</code> 数组中的所有元素记录到 <code>missing</code> 中。</li>
</ul>
</li>
<li>
<p><strong>第二轮循环 (异或范围 [0, n])</strong>：</p>
<ul>
<li>第二个 <code>for</code> 循环从 <code>0</code> 到 <code>n</code>，<code>missing</code> 将依次与 <code>[0, n]</code> 这个范围的所有数字进行异或运算。</li>
<li>由于丢失的数字存在于 <code>[0, n]</code> 中，但不在 <code>nums</code> 中，通过这个步骤，<code>missing</code> 会变为最终的丢失数字。</li>
</ul>
</li>
<li>
<p><strong>利用异或性质</strong>：</p>
<ul>
<li>最终，所有成对出现的数字都会被抵消为 <code>0</code>，剩下的就是那个没有成对出现的数字，也就是丢失的数字。</li>
</ul>
</li>
</ol>
<h4 id="_28">参考解答</h4>
<pre><code class="language-cpp">class Solution {
public:
    int missingNumber(vector&lt;int&gt;&amp; nums) {
        int missing = 0;
            int n = nums.size();
            for (int i = 0; i &lt; n; i++) {
                missing ^= nums[i];
            }
            for (int i = 0; i &lt;= n; i++) {
            missing ^= i;
        }
        return missing;
    }
};
</code></pre>
<h2 id="3_1">3. 举一反三</h2>
<h3 id="31-lc2309">3.1 LC2309 兼具大小写的最好英文字母</h3>
<h4 id="_29">问题描述</h4>
<p>给你一个由英文字母组成的字符串 s ，请你找出并返回 s 中的最好英文字母。返回的字母必须为大写形式。如果不存在满足条件的字母，则返回一个空字符串。</p>
<p>最好 英文字母的大写和小写形式必须都在 s 中出现。</p>
<p>英文字母 b 比另一个英文字母 a 更好的前提是：英文字母表中，b 在 a 之后出现。</p>
<p>请使用尝试哈希表和位运算两种方式解答此题</p>
<h4 id="1_3">解题思路1：哈希表</h4>
<p>使用 <code>unordered_set</code> 保存字符串 <code>s</code> 中出现过的字符。遍历字符串 <code>s</code>，将当前字符 <code>c</code> 加入到 <code>unordered_set</code> 中。从大到小枚举英文字母，如果一个英文字母的大写形式和小写形式都出现在 <code>unordered_set</code> 中，那么直接返回该英文字母。如果所有的英文字母都不符合要求，那么返回空字符串。</p>
<h4 id="1_4">参考解答1：</h4>
<pre><code class="language-cpp">class Solution {
public:
    string greatestLetter(string s) {
        unordered_set&lt;char&gt; ht;
        for (int i = 0; i &lt; s.length(); i++) {
            char c = s[i];
            ht.insert(c);
        }
        for (int i = 25; i &gt;= 0; i--) {
            if (ht.count('a' + i) &amp;&amp; ht.count('A' + i)) {
                return string(1, 'A' + i);
            }
        }
        return &quot;&quot;;
    }
};
</code></pre>
<h4 id="2_4">解题思路2：位运算</h4>
<p>使用两个 32 位整数 <code>lower</code> 和 <code>upper</code> 分别表示字符串 <code>s</code> 中小写字母和大写字母的出现情况。通过位运算判断某个英文字母的大小写形式是否都出现过。
1. 遍历字符串 s，对于每个字符 c：
   - 如果 c 是小写字母，将 lower 的对应位置设为 1；
   - 如果 c 是大写字母，将 upper 的对应位置设为 1。</p>
<ol>
<li>
<p>从大到小枚举英文字母，如果发现某个英文字母的大小写形式在 lower 和 upper 中都出现，那么返回该字母。</p>
</li>
<li>
<p>如果所有的字母都不符合要求，则返回空字符串。</p>
</li>
</ol>
<h4 id="_30">位运算技巧</h4>
<ul>
<li>lower |= 1 &lt;&lt; (c - 'a')：将字符 c 对应的位数置为 1，表示该字符出现过。</li>
<li>upper |= 1 &lt;&lt; (c - 'A')：同理，将大写字符 c 对应的位数置为 1。</li>
<li>lower &amp; upper &amp; (1 &lt;&lt; i)：判断小写和大写的第 i 位是否都为 1，表示该字母的大小写都出现过。</li>
</ul>
<h4 id="2_5">参考解答2：</h4>
<pre><code class="language-cpp">class Solution {
public:
    string greatestLetter(tring s) {
        int lower = 0, upper = 0;
        for (int i = 0; i &lt; s.length(); i++) {
            char c = s[i];
            if (islower(c)) {
                lower |= 1 &lt;&lt; (c - 'a');
            } else {
                upper |= 1 &lt;&lt; (c - 'A');
            }
        }
        for (int i = 25; i &gt;= 0; i--) {
            if ((lower &amp; upper &amp; (1 &lt;&lt; i)) != 0) {
                return string(1, 'A' + i);
            }
        }
        return &quot;&quot;;
    }
};
</code></pre>
<h3 id="32-lc136">3.2 LC136 只出现一次的数字</h3>
<h4 id="_31">题目描述</h4>
<p>给你一个 非空 整数数组 nums ，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p>
<h4 id="1_5">解题思路1 异或运算</h4>
<p>对于这道题目，我们可以使用 <strong>异或运算</strong>（<code>⊕</code>）。异或运算有以下三个性质：</p>
<ol>
<li>任何数和 <code>0</code> 做异或运算，结果仍然是原来的数，即 <code>a ⊕ 0 = a</code>。</li>
<li>任何数和其自身做异或运算，结果是 <code>0</code>，即 <code>a ⊕ a = 0</code>。</li>
<li>异或运算满足交换律和结合律，即 <code>a ⊕ b ⊕ a = b ⊕ a ⊕ a = b ⊕ (a ⊕ a) = b ⊕ 0 = b</code>。</li>
</ol>
<p>假设数组中有 <code>2m + 1</code> 个数，其中有 <code>m</code> 个数各出现两次，一个数出现一次。令 a<sub>1</sub>, a<sub>2</sub>, ..., a<sub>m</sub> 为出现两次的 m 个数，a<sub>m+1</sub> 为只出现一次的数。根据性质 3，数组中的全部元素的异或运算结果总是可以写成如下形式：</p>
<p>(a<sub>1</sub> ⊕ a<sub>1</sub>) ⊕ (a<sub>2</sub> ⊕ a<sub>2</sub>) ⊕ ⋯ ⊕ (a<sub>m</sub> ⊕ a<sub>m</sub>) ⊕ a<sub>m+1</sub></p>
<p>根据性质 2 和性质 1，上式可以化简为：</p>
<p>0 ⊕ 0 ⊕ ⋯ ⊕ 0 ⊕ a<sub>m+1</sub> = a<sub>m+1</sub></p>
<p>因此，数组中的所有元素的异或运算结果就是数组中只出现一次的那个数。</p>
<h4 id="_32">代码实现</h4>
<pre><code class="language-cpp">class Solution {
public:
    int singleNumber(vector&lt;int&gt;&amp; nums) {
        int single = 0;
        for (int num : nums) {
            single ^= num;
        }
        return single;
    }
};
</code></pre>
<h4 id="2unordered_set">解题思路2：<code>unordered_set</code></h4>
<p>利用 unordered_set 的特点解决这个问题：</p>
<ol>
<li>如果当前数字已经在集合中，移除它。</li>
<li>如果当前数字不在集合中，加入它。</li>
</ol>
<p>最终，集合中只会剩下那个只出现一次的数字。</p>
<h4 id="_33">解题步骤</h4>
<ul>
<li>创建一个 <code>unordered_set</code>，用于存储数组中的数字。</li>
<li>遍历数组：</li>
<li>如果当前数字已经存在于集合中，说明它是重复的，将其从集合中移除。</li>
<li>如果当前数字不在集合中，说明它是第一次出现，将其加入集合。</li>
<li>遍历结束后，<code>unordered_set</code> 中剩下的唯一一个元素就是只出现一次的数字。</li>
</ul>
<p>因为题目中的条件是只有一个数字出现了一次，其他数字都出现了两次，最终 <code>unordered_set</code> 中只会剩下那个唯一的数字。</p>
<h4 id="_34">代码实现</h4>
<pre><code class="language-cpp">class Solution {
public:
    int singleNumber(vector&lt;int&gt;&amp; nums) {
        unordered_set&lt;int&gt; set;

        // 遍历数组，处理每个数字
        for (int num : nums) {
            if (set.count(num)) {
                set.erase(num);  // 如果集合中已经存在，移除
            } else {
                set.insert(num);  // 如果不存在，加入集合
            }
        }

        // 将剩余的唯一元素转换为 vector 并使用 [] 访问
        vector&lt;int&gt; result(set.begin(), set.end());
        return result[0];  // 返回 vector 中唯一的数字
    }
};

</code></pre>
<h3 id="33-lc389">3.3 LC389 找不同</h3>
<h4 id="_35">题目描述</h4>
<p>给定两个字符串 <code>s</code> 和 <code>t</code> ，它们只包含小写字母。</p>
<p>字符串 <code>t</code> 由字符串 <code>s</code> 随机重排，然后在随机位置添加一个字母。</p>
<p>请找出在 <code>t</code> 中被添加的字母。</p>
<p>尝试使用 <strong>LC136</strong> 题目的位运算技巧解决本题</p>
<h4 id="_36">思路讲解</h4>
<p>题目要求找出在字符串 <code>t</code> 中多出来的那个字符。</p>
<p>我们可以将两个字符串的所有字符视为一个整体，然后通过求出现奇数次的字符来找到多出来的那个字符。因为除了一个字符以外，其他字符都会出现偶数次，最终的异或结果只会保留那个出现奇数次的字符。</p>
<p>类似于「LC136. 只出现一次的数字」，我们可以使用<strong>异或运算</strong>来解决这个问题：</p>
<ul>
<li><strong>异或运算的性质</strong>：</li>
<li>任何数和 <code>0</code> 进行异或运算，结果为该数本身：<code>a ⊕ 0 = a</code>。</li>
<li>任何数和自己进行异或运算，结果为 <code>0</code>：<code>a ⊕ a = 0</code>。</li>
<li>异或运算满足交换律和结合律：<code>a ⊕ b ⊕ a = (a ⊕ a) ⊕ b = 0 ⊕ b = b</code>。</li>
</ul>
<p>根据这些性质，如果我们将字符串 <code>s</code> 和 <code>t</code> 中所有的字符都进行异或运算，成对出现的字符会互相抵消，最终剩下的就是 <code>t</code> 中那个多出来的字符。</p>
<h4 id="_37">解题步骤</h4>
<ol>
<li>初始化一个整数 <code>ret</code>，用于保存异或结果，初始值为 <code>0</code>。</li>
<li>遍历字符串 <code>s</code> 中的每个字符，将字符的 ASCII 值与 <code>ret</code> 进行异或操作。</li>
<li>遍历字符串 <code>t</code> 中的每个字符，将字符的 ASCII 值与 <code>ret</code> 进行异或操作。</li>
<li>返回 <code>ret</code>，它就是多出来的那个字符。</li>
</ol>
<h3 id="_38">代码实现</h3>
<pre><code class="language-cpp">class Solution {
public:
    char findTheDifference(string s, string t) {
        int ret = 0;

        // 对字符串 s 中的每个字符进行异或操作
        for (char c : s) {
            ret ^= c;
        }

        // 对字符串 t 中的每个字符进行异或操作
        for (char c : t) {
            ret ^= c;
        }

        // 返回异或结果，即多出来的字符
        return (char)ret;
    }
};
</code></pre>
<h2 id="4_1">4. 课后练习</h2>
<table>
<thead>
<tr>
<th>题目编号</th>
<th>题目名称</th>
<th>简介</th>
</tr>
</thead>
<tbody>
<tr>
<td>LC868</td>
<td>二进制间距</td>
<td>给定一个正整数，计算它在二进制表示中两个相邻的 <code>1</code> 之间的最大距离。</td>
</tr>
<tr>
<td>LC1486</td>
<td>数组异或操作</td>
<td>给定一个整数 n 和一个整数 start，生成一个数组，返回数组中所有元素的异或结果。</td>
</tr>
<tr>
<td>LC1720</td>
<td>解码异或后的数组</td>
<td>给定一个异或后的数组，返回其原始数组。</td>
</tr>
<tr>
<td>LC645</td>
<td>错误的集合</td>
<td>集合 S 包含 [1, n] 中的 n 个整数，但其中有一个重复的数和一个缺失的数，找出它们。</td>
</tr>
<tr>
<td>LC693</td>
<td>交替位二进制数</td>
<td>给定一个正整数，判断其二进制表示是否为交替位。</td>
</tr>
</tbody>
</table></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
